{% extends 'base.html' %}
{% block content %}
<h1>Новости</h1>
<a href="{% url 'news:create' %}">Создать новость</a>
{% for news_item in news %}
    <h2><a href="{% url 'news:detail' pk=news_item.pk %}">{{ news_item.title }}</a></h2>
    <p>{{ news_item.content|truncatewords:20 }}</p>
{% endfor %}
{% endblock %}

{% extends "default.html" %}

{% block content %}
<h1>Новости</h1>
{% for news in news %}
    <div class="news-item">
        <h2>{{ news.title }}</h2>
        <p><strong>Дата:</strong> {{ news.date|date:"d.m.Y H:i" }} | <strong>Автор:</strong> {{ news.author }}</p>
        <p>{{ news.text|truncatewords:30 }}</p>  <
        <a href="#">Подробнее</a>
    </div>
{% empty %}
    <p>Новостей пока нет.</p>
{% endfor %}


<div class="pagination">
    {% if news.has_previous %}
        <a href="?page=1">&laquo; Первая</a>
        <a href="?page={{ news.previous_page_number }}">Предыдущая</a>
    {% endif %}

    {% for num in news.paginator.page_range %}
        {% if news.number == num %}
            <strong>{{ num }}</strong>
        {% elif num > news.number|add:-3 and num < news.number|add:3 %}
            <a href="?page={{ num }}">{{ num }}</a>
        {% endif %}
    {% endfor %}

    {% if news.has_next %}
        <a href="?page={{ news.next_page_number }}">Следующая</a>
        <a href="?page={{ news.paginator.num_pages }}">Последняя &raquo;</a>
    {% endif %}
</div>
{% endblock %}